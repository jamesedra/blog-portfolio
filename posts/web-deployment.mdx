---
title: "Creating an Animated Background in CSS"
date: "2023-10-14"
tags: ["web development", "CSS"]
summary: "I provided a subtle background for my portfolio. It is an animation of multiple bubble features that is produced in a short time."
---

I provided a subtle background for my portfolio. It is an animation of multiple bubble features that is produced in a short time. It is not perfect at the moment, so I will keep updating the code snippet below for you to use.

### Setting Up

There are two main variables needed to develop the animation. The starting positions of each bubble and using keyframe animations in CSS.

### Generating Random Values

To make the bubbles start out in a natural way, it should be produced in a random position. You can provide bubble positions and random values to accomplish this.

```javascript
const getRandomValue = () => Math.floor(Math.random() * (30 - 11 + 1)) + 11;

const [randomValues, setRandomValues] = useState<number[]>([]);
const [bubblePositions, setBubblePositions] = useState<number[]>([]);
```

### Moving the Bubbles

With the random positions in place, we'll now focus on animating the bubbles' movement (in this case, we do it vertically). Using CSS transform, we'll guide the bubbles upwards on the screen, creating a visually pleasing effect:

```javascript
<div className="bubbles">
  {randomValues.map((value, index) => {
    return (
        <span
            key={index}
            style={
              {
                "--i": value,
                transform: `translateY(${bubblePositions[index]}px)`,
              } as any
            }
        ></span>
    );
  })}
</div>
```

Here, we use the translateY property to control the vertical positioning of the bubbles. This, in combination with the random values, adds an elegant sense of randomness to the animation.

### Styling the bubbles

Styling is where you can get creative, but the animation is the most crucial part. In this example, we've chosen to distinguish between odd and even bubbles by giving them different colors:

```css
.bubbles {
  position: relative;
  display: flex;
}

.bubbles span {
  position: relative;
  width: 15px;
  height: 15px;
  background: #4fc3dc;
  margin: 0 4px;
  border-radius: 50%;
  box-shadow: 0 0 0 10px #4fc3dc44, 0 0 50px #4fc3dc, 0 0 10px #4fc3dc;
  animation: animate 15s linear infinite;
  animation-duration: calc(200s / var(--i));
}

.bubbles span:nth-child(even) {
  background: #ff2d75;
  box-shadow: 0 0 0 10px #ff2d7544, 0 0 50px #ff2d75, 0 0 10px #ff2d75;
}

@keyframes animate {
  0% {
    transform: translateY(100vh) scale(0);
  }
  100% {
    transform: translateY(-10vh) scale(1);
  }
}
```

Keep in mind that the animation is set to be infinite, which may contribute to consuming system resources. You can adjust it to meet your specific needs. If you wish to disable the animation after a certain period, you can customize the **animation** properties accordingly.
